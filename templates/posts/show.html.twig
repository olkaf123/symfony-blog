{% extends 'base.html.twig' %}

{% block title %}{{ post.topic }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .last {
            margin-bottom: 20px;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="category" style="margin-top:35px;">
        {{ post.topic }}
        <a href="{{ url('post_delete', {'id': post.id}) }}" class="btn btn-default" style="float: right;">
            <span class="glyphicon glyphicon-trash"></span> {{ 'delete.post'|trans }}
        </a>
        <a href="{{ url('post_edit', {'id': post.id}) }}" class="btn btn-default"
           style="float: right; margin-right: 10px;">
            <span class="glyphicon glyphicon-plus"></span> {{ 'edit.post'|trans }}
        </a>
    </div>
    <div class="wrap">
        <div class="na bold">
            <a href="mailto:{{ post.user.email }}">
                {{ post.user.details.name }} {{ post.user.details.surname }}<br><i>{{ post.user.email }}</i>
            </a>
        </div>
        <div style="position:absolute;right:20px;">
            {% if alreadyMarked == 1 %}
                <a href="">
                    <span class="glyphicon glyphicon-thumbs-down"></span>
                </a>
            {% else %}
                <span class="glyphicon glyphicon-thumbs-down"></span>
            {% endif %}
            {% if mark > 0 %}
                <span style="color:#3c763d;">{{ mark }}</span>
            {% elseif mark < 0 %}
                <span style="color:#a94442;">{{ mark }}</span>
            {% else %}
                {{ mark }}
            {% endif %}
            {% if alreadyMarked == 1 %}
                <a href="">
                    <span class="glyphicon glyphicon-thumbs-up" style="margin-right: 30px;"></span>
                </a>
            {% else %}
                <span class="glyphicon glyphicon-thumbs-up" style="margin-right: 30px;"></span>
            {% endif %}
        </div>
    </div>
    <hr style="margin-top:0;">
    <div>
        {{ post.post }}
    </div>
    <div style="margin-top: 80px;background:#a3a3a3;padding: 10px;">
        {{ 'post.comments'|trans }}
        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
            <a href="" class="btn btn-default" style="float: right;margin-top: -7px;">
                <span class="glyphicon glyphicon-plus"></span> {{ 'add.comment'|trans }}
            </a>
        {% endif %}
    </div>
    <div style="padding: 0 20px 20px;">
        {% if post.comments|length > 0 %}
            {# comments #}
        {% else %}
            <div class="last text-center">
                {{ 'comments.empty'|trans }}
            </div>
        {% endif %}
    </div>
{% endblock %}
